/* web/styles/pages.css */

/* --- é€šç”¨å·¥å…·ç±» --- */
.hidden {
    display: none !important;
}

/* =========================================
   1. API é…ç½®é¡µ (API Configuration)
   ========================================= */
.api-layout {
    display: flex; 
    flex-direction: column; 
    gap: 12px; 
    height: auto; 
    padding-bottom: 20px; 
}

/* [æ–°å¢] ä¸“é—¨é’ˆå¯¹ API é¡µé¢çš„é¡¶éƒ¨æŒ‰é’®åŒº */
.api-actions-header {
    display: flex;
    gap: 16px;
    margin-bottom: 0; /* [ä¼˜åŒ–] ç§»é™¤ä¸‹è¾¹è· (åŸ20px)ï¼Œå®Œå…¨ç”± .api-layout çš„ gap æ§åˆ¶ */
    flex-shrink: 0;   /* é˜²æ­¢è¢«å‹ç¼© */
}

.api-key-card {
    flex: 0 0 auto; 
    width: 100%;
    display: flex; flex-direction: column;
    padding: 24px; 
}

.account-info-card {
    flex: 0 0 auto; 
    width: 100%;
    display: flex; flex-direction: column;
}

.api-key-row {
    display: flex; 
    align-items: center;
    gap: 12px; 
    margin-bottom: 30px; 
    width: 100%;
}

.input-wrapper-relative {
    flex: 0 0 66%; 
    position: relative;
}

.input-wrapper-relative .form-input {
    width: 100%;
    padding-right: 40px; 
    height: 44px;
    font-family: monospace; letter-spacing: 1px; font-size: 14px;
}

.check-icon-inner {
    position: absolute; 
    right: 12px; 
    top: 50%;
    transform: translateY(-50%);
    font-size: 16px; 
    color: var(--success-color);
    animation: popIn 0.3s ease;
    pointer-events: none;
    z-index: 10;
}

.error-icon-inner {
    position: absolute; 
    right: 12px; 
    top: 50%;
    transform: translateY(-50%);
    font-size: 14px;
    color: var(--danger-color);
    animation: popIn 0.3s ease;
    pointer-events: none;
    z-index: 10;
}

@keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }

.key-actions-group {
    display: flex; gap: 8px;
    margin-left: 8px;
}

.btn-row { 
    display: flex; 
    gap: 20px; 
    justify-content: flex-start; 
}

.btn-row .btn { 
    min-width: 160px; 
} 

.card-header-row {
    display: flex; justify-content: space-between; align-items: center; 
    margin-bottom: 24px; padding-bottom: 16px;
    border-bottom: 1px solid #f0f0f0;
}

.controls { display: flex; align-items: center; gap: 16px; }

.toggle-switch-wrapper { 
    display: flex; align-items: center; gap: 8px;
    font-size: 13px; color: var(--text-sub); 
    background: #f8f9fa; padding: 6px 12px; 
    border-radius: 20px; border: 1px solid #eee;
}

.poll-status { font-weight: 500; font-size: 13px; color: #999; min-width: 120px; text-align: right;}
.poll-status.active { color: var(--success-color); } 

.info-grid {
    display: grid; 
    grid-template-columns: repeat(4, 1fr);
    gap: 20px; flex: 1;
}

.info-box {
    background: #fff;
    border: 1px solid #eee;
    border-radius: 12px;
    padding: 30px 20px;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.02);
    transition: all 0.3s ease;
}
.info-box:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(111, 66, 193, 0.12);
    border-color: #e0d4fc;
}

.info-box .icon { font-size: 32px; margin-bottom: 16px; }
.info-box .label { font-size: 13px; color: #888; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px; }
.info-box .value { font-size: 28px; font-weight: 700; color: var(--text-main); }
.info-box .unit { font-size: 14px; color: #aaa; margin-left: 4px; font-weight: normal;}


/* =========================================
   2. æ–°å»º/é¢„è®¾ä»»åŠ¡é¡µ (Task Creation)
   ========================================= */
.task-header { 
    margin-bottom: 20px; display: flex; gap: 16px;
    flex-shrink: 0; 
}

.category-tabs {
    display: flex; 
    gap: 16px; 
    margin-bottom: 20px;
    background: transparent; 
    padding: 0; 
    border: none; 
    width: auto;
    flex-shrink: 0;
}

.category-tabs .tab-btn {
    min-width: 100px; 
}

.category-tabs .tab-btn.active { 
    background: var(--primary-color); 
    color: #fff; 
    border-color: var(--primary-color);
    box-shadow: 0 4px 12px rgba(111, 66, 193, 0.3);
}

.category-tabs .tab-btn:not(.active) {
    background: #fff;
    border: 1px solid #d1d5db;
    color: var(--text-sub);
}
.category-tabs .tab-btn:not(.active):hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
    background: #f3f0ff;
}

.task-bar-container {
    display: flex;
    align-items: center;
    gap: 16px; 
    margin-bottom: 20px;
    background: transparent;
    border: none;
    box-shadow: none;
    padding: 0;
    min-height: 0;
    flex-shrink: 0;
}

/* Step 72: ç®¡ç†æŒ‰é’®é€‚é… */
#btn-manage-presets-toggle {
    height: 60px; /* ä¸ä»»åŠ¡æ ç­‰é«˜ */
    padding: 0 24px;
    flex-shrink: 0;
    min-width: 110px;
    font-weight: 600;
}

#btn-manage-presets-toggle.active {
    background: var(--warning-color);
    color: #fff;
    border-color: var(--warning-color);
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
}

/* é¢„è®¾æŒ‰é’®åœ¨ç®¡ç†æ¨¡å¼ä¸‹çš„æ ·å¼ */
.task-bar button.editing-mode {
    border-style: dashed;
    border-color: var(--warning-color);
    background: #fffbeb;
    color: #d97706;
}
.task-bar button.editing-mode:hover {
    transform: scale(1.05);
    background: #fef3c7;
}
.task-bar button.editing-mode::before {
    content: "âœï¸ "; /* å¢åŠ ç¼–è¾‘å›¾æ ‡æç¤º */
}

.task-bar {
    flex: 1; 
    min-width: 0; 
    display: flex;
    align-items: center;
    gap: 10px;
    overflow-x: auto;
    
    background: #fff;
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 8px 16px; 
    height: 60px; 
    box-shadow: 0 2px 6px rgba(0,0,0,0.02);
    -ms-overflow-style: none;
}

@supports (scrollbar-width: none) {
    .task-bar {
        scrollbar-width: none;
    }
}

.task-bar::-webkit-scrollbar { 
    display: none; 
}

.task-bar button {
    padding: 8px 20px;
    font-size: 13px; border-radius: 20px;
    border: 1px solid #eee; background: #f9fafb; color: #4b5563;
    white-space: nowrap; transition: all 0.2s;
    cursor: pointer;
    flex-shrink: 0;
}
.task-bar button:hover {
    border-color: var(--primary-color); color: var(--primary-color);
    background: #fff; transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}
.task-bar button.active {
    background-color: var(--primary-color);
    color: #ffffff;
    border-color: var(--primary-color);
    box-shadow: 0 4px 10px rgba(111, 66, 193, 0.4);
    font-weight: 600;
    transform: translateY(-1px);
}

.btn-run-large {
    height: 60px; 
    padding: 0 32px;
    font-size: 16px;
}

.split-layout {
    display: flex; gap: 20px;
    flex: 1; 
    min-height: 0;
}

.panel {
    background: #fff; border-radius: 12px;
    border: 1px solid var(--border-color);
    display: flex; flex-direction: column;
    box-shadow: var(--shadow-card); overflow: hidden;
}
.panel-left { flex: 0 0 400px; }
.panel-right { flex: 1; }

.panel-header { 
    padding: 12px 20px; background: #fff; 
    border-bottom: 1px solid #f0f0f0; font-weight: 600; 
    color: var(--text-main); font-size: 14px;
    display: flex; align-items: center; justify-content: space-between;
    min-height: 50px;
    position: relative;
}
.panel-body { padding: 20px; overflow-y: auto; flex: 1; background: #fcfcfc; }

/* --- Step 50: ä»»åŠ¡åˆ‡æ¢å¯¼èˆªæŒ‰é’®ç»„ --- */
.task-nav-group {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%); /* ç»å¯¹å±…ä¸­ */
    display: flex;
    align-items: center;
    gap: 12px;
}

.nav-task-btn {
    width: 32px; height: 32px;
    border-radius: 50%;
    border: 1px solid #eee;
    background: #fff;
    color: var(--text-main);
    font-size: 14px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    -webkit-user-select: none;
    user-select: none;
    flex-shrink: 0;
}

.nav-task-btn:hover:not(:disabled) {
    border-color: var(--primary-color);
    color: var(--primary-color);
    background: #f3f0ff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.nav-task-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    background: #f9fafb;
    color: #9ca3af;
    border-color: #eee;
}

/* --- Step 50: ä»»åŠ¡åç§°æ˜¾ç¤º --- */
.task-name-display {
    position: absolute;
    left: 100%; /* ä½äºæŒ‰é’®ç»„å³ä¾§ */
    top: 50%;
    transform: translateY(-50%);
    margin-left: 15px; 
    
    font-size: 13px;
    font-weight: 600;
    color: #6b7280;
    white-space: nowrap; 
    font-family: system-ui, -apple-system, sans-serif;
    
    background: none;
    border: none;
    padding: 0;
    pointer-events: none;
}

/* --- ä»»åŠ¡å¡ç‰‡é€‰ä¸­çŠ¶æ€ --- */
.task-card.active-card {
    border-color: var(--primary-color) !important;
    box-shadow: 0 0 0 1px var(--primary-color), 0 8px 20px rgba(111, 66, 193, 0.15) !important;
    background-color: #fcfaff;
    transform: translateX(-4px);
}

/* ç»“æœé¢„è§ˆåŒº */
.result-canvas {
    flex: 1; background: #f3f4f6; 
    display: flex; justify-content: center; align-items: center;
    position: relative; overflow: hidden;
    background-image: radial-gradient(#e5e7eb 1px, transparent 1px);
    background-size: 20px 20px; 
}
.canvas-placeholder { 
    color: #9ca3af; font-size: 14px; 
    display: flex; flex-direction: column; align-items: center; gap: 12px; 
}

/* =========================================
   3. ä½œå“åº“ (Gallery)
   ========================================= */
.gallery-layout { 
    display: flex; flex-direction: column; height: 100%; 
    background: #fff; border-radius: 10px; 
    border: 1px solid var(--border-color); overflow: hidden;
}

/* [Step 84] ä½œå“åº“å¯¼èˆªä¼˜åŒ– */
.gallery-nav { 
    display: flex; 
    justify-content: space-between; /* ä¸¤ç«¯å¯¹é½ */
    align-items: center;
    padding: 12px 24px; 
    border-bottom: 1px solid #eee; background: #fcfcfc;
}

.gallery-tabs-group {
    display: flex;
    gap: 12px;
}

/* è®¾ç½®æŒ‰é’®æ ·å¼ */
.btn-icon-setting {
    background: #fff;
    border: 1px solid #d1d5db;
    color: var(--text-sub);
    padding: 8px 16px;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s;
}

.btn-icon-setting:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
    background: #f3f0ff;
}

.g-nav-btn {
    padding: 10px 28px; 
    border-radius: 8px; 
    font-size: 15px; 
    font-weight: 600; 
    border: 1px solid transparent; 
    background: transparent; 
    color: var(--text-sub); 
    cursor: pointer; 
    transition: all 0.2s ease;
    -webkit-user-select: none;
    user-select: none;
}

.g-nav-btn:hover { 
    background: #eee; 
    color: var(--text-main);
}

.g-nav-btn.active { 
    background: #e0e7ff; 
    color: var(--primary-color); 
    border-color: #c7d2fe; 
    box-shadow: 0 2px 6px rgba(111, 66, 193, 0.15); 
}

.gallery-content { display: flex; flex: 1; overflow: hidden; }

.gallery-sidebar {
    width: 320px; border-right: 1px solid #eee;
    display: flex; flex-direction: column; background: #fff;
}
.file-list-header {
    display: flex; justify-content: space-between; padding: 10px 16px; 
    background: #f8f9fa; font-size: 12px; color: #888; font-weight: 600;
    border-bottom: 1px solid #eee;
}
.file-list { flex: 1; overflow-y: auto; padding: 8px 0; }

.file-item {
    padding: 10px 16px; border-bottom: 1px solid #f7f7f7; cursor: pointer; 
    display: flex; justify-content: space-between; align-items: center;
    transition: background 0.1s;
}
.file-item:hover { background: #f9fafb; }
.file-item.active { background: #f0f7ff; border-left: 3px solid var(--primary-color); }

.file-info-main { display: flex; flex-direction: column; gap: 4px; max-width: 70%; }
.file-name { font-size: 13px; color: #333; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.file-meta { font-size: 11px; color: #aaa; }
.file-size { font-size: 11px; color: #888; font-family: monospace; }

.file-status-bar {
    padding: 8px 16px; border-top: 1px solid #eee; 
    font-size: 11px; color: #aaa; text-align: center; background: #fafafa;
}

.gallery-preview { 
    flex: 1; 
    display: flex; flex-direction: column;
    justify-content: center; align-items: center; 
    background: #f3f4f6; padding: 20px; position: relative;
    
    /* [Step 67 æ ¸å¿ƒä¿®å¤] æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œ */
    min-width: 0;      /* å…è®¸ Flex å­é¡¹è¢«å‹ç¼©åˆ° 0ï¼Œé˜²æ­¢è¢«å¤§å›¾æ’‘æ­» */
    overflow: hidden;  /* è¶…å‡ºéƒ¨åˆ†éšè—ï¼Œé˜²æ­¢æ’‘ç ´å¸ƒå±€ */
}

.preview-placeholder { color: #999; font-size: 14px; }

.preview-img, .preview-video {
    max-width: 100%; max-height: 80%; 
    box-shadow: 0 8px 24px rgba(0,0,0,0.1); 
    border-radius: 8px; background: #fff;
}

/* =========================================
   4. å³ä¾§ä»»åŠ¡åˆ—è¡¨ (ä¼˜åŒ–ç‰ˆ v58)
   ========================================= */
.task-list-container {
    padding: 20px; overflow-y: auto; flex: 1; 
    background: #f9fafb; 
}

.empty-task-list {
    text-align: center; color: #9ca3af; margin-top: 40px;
    font-size: 13px; display: flex; flex-direction: column; align-items: center; gap: 10px;
}
.empty-task-list::before { content: "ğŸ“­"; font-size: 32px; opacity: 0.5; }

.task-card {
    background: #fff; border-radius: 12px;
    padding: 16px 20px; margin-bottom: 16px;
    border: 1px solid transparent; 
    box-shadow: 0 2px 4px rgba(0,0,0,0.02), 0 1px 0 rgba(0,0,0,0.02);
    transition: all 0.2s ease;
    position: relative; overflow: hidden;
}

.task-card::before {
    content: ""; position: absolute; left: 0; top: 0; bottom: 0; width: 4px;
    transition: background 0.3s;
}
.task-card:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }

.task-card.running::before { background: var(--primary-color); }
.task-card.queued::before { background: var(--warning-color); }
.task-card.success::before { background: var(--success-color); }
.task-card.failed::before { background: var(--danger-color); }

/* Card Top: ä»»åŠ¡å + æŒ‰é’® */
.card-top { 
    display: flex; justify-content: space-between; align-items: center; 
    margin-bottom: 12px; 
}
.t-name { 
    font-weight: 600; font-size: 15px; color: #1f2937; 
    line-height: 1.4; 
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 180px;
}

/* Card Mid: å®Œæ•´ID + çŠ¶æ€ */
.card-mid { 
    display: flex; justify-content: space-between; align-items: center; 
    margin-bottom: 16px; 
}

/* å®Œæ•´IDæ ·å¼ */
.t-full-id {
    font-size: 11px;
    color: #9ca3af;
    font-family: monospace;
    background: #f3f4f6;
    padding: 2px 6px;
    border-radius: 4px;
    max-width: 65%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    letter-spacing: -0.5px;
}

.status-badge {
    font-size: 11px; padding: 4px 10px; border-radius: 20px; 
    font-weight: 600; letter-spacing: 0.5px; text-transform: uppercase;
    flex-shrink: 0;
}
.task-card.running .status-badge { background: #ede9fe; color: var(--primary-color); }
.task-card.queued .status-badge { background: #fef3c7; color: #d97706; }
.task-card.success .status-badge { background: #d1fae5; color: #059669; }
.task-card.failed .status-badge { background: #fee2e2; color: #dc2626; }

/* Card Bottom: åˆ›å»ºæ—¶é—´ + ç”¨æ—¶ */
.card-btm { 
    display: flex; justify-content: space-between; align-items: center; 
    border-top: 1px solid #f3f4f6; padding-top: 12px;
}
.start-time { font-size: 11px; color: #d1d5db; font-family: monospace; }
.t-time { 
    font-size: 13px; color: #4b5563; font-weight: 600; 
    font-variant-numeric: tabular-nums; 
    font-family: monospace;
}

/* ç¡®ä¿æŠ˜å è§†å›¾æ˜¯ Flex å¸ƒå±€å¹¶å±…ä¸­ */
.sidebar-collapsed-view {
    display: none; /* é»˜è®¤éšè—ï¼Œç”± layout.css æ§åˆ¶æ˜¾ç¤º */
    flex-direction: column;
    align-items: center;
    width: 100%;
    padding-top: 24px; /* ç»™é¡¶éƒ¨ç•™å‡ºè·ç¦»ï¼Œé¿å…å’Œæ‰‹æŸ„æ‰“æ¶ï¼Œå¦‚æœæ‰‹æŸ„åœ¨ä¸­é—´åˆ™æ— æ‰€è°“ */
    background: #f9fafb;
    height: 100%;
    overflow: hidden;
}

/* é’ˆå¯¹æŠ˜å çŠ¶æ€ä¸‹çš„å›¾æ ‡è¿›è¡Œå¾®è°ƒ (å¯é€‰) */
#task-monitor-icon-collapsed {
    margin: 0; /* ç§»é™¤ margin-left: autoï¼Œå¼ºåˆ¶å±…ä¸­ */
    flex-shrink: 0;
    /* ç¡®ä¿ z-index é«˜äºèƒŒæ™¯ */
    z-index: 10;
}

.sidebar-right.collapsed .sidebar-header,
.sidebar-right.collapsed .task-list-container {
    display: none !important; 
}

.sidebar-right.collapsed .sidebar-collapsed-view {
    display: flex; 
}

.vertical-text {
    writing-mode: vertical-rl;
    text-orientation: upright;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-sub);
    letter-spacing: 6px;
    margin-top: auto;
    margin-bottom: auto;
    -webkit-user-select: none;
    user-select: none;
}

.toggle-btn-collapsed {
    cursor: pointer;
    padding: 8px;
    color: var(--text-sub);
    font-size: 14px;
    border-radius: 4px;
    transition: all 0.2s;
    margin-bottom: 20px;
}
.toggle-btn-collapsed:hover {
    background: #eee;
    color: var(--primary-color);
}

#modal-btn-auto {
    padding: 0 24px;
    min-width: 110px;
    white-space: nowrap;
    justify-content: center;
    height: 40px; 
    font-size: 14px;
    line-height: 1;
}

/* [Step 64] ä¿®æ”¹ï¼šå·¦ä¾§æ é»˜è®¤å®½åº¦ */
.gallery-sidebar {
    width: 320px; /* é»˜è®¤å®½åº¦ (ä¹Ÿæ˜¯æœ€å°å®½åº¦) */
    flex-shrink: 0; /* ç¦æ­¢è‡ªåŠ¨å‹ç¼© */
    border-right: none; /* ç§»é™¤åŸæ¥çš„å³è¾¹æ¡†ï¼Œæ”¹ç”± resizer å……å½“è§†è§‰åˆ†å‰² */
    display: flex; flex-direction: column; background: #fff;
    transition: none; /* ç¦ç”¨è¿‡æ¸¡ï¼Œä¿è¯æ‹–æ‹½æµç•… */
}

/* [Step 64] æ–°å¢ï¼šæ‹–æ‹½æ‰‹æŸ„æ ·å¼ */
/* [Step 65] ä¿®å¤ï¼šå¢å¼ºæ‹–æ‹½æ¡çš„å¯è§æ€§ */
.gallery-resizer {
    width: 10px;  /* åŠ å®½åˆ° 10pxï¼Œæ›´å®¹æ˜“æŠ“å– */
    background: #e5e7eb; /* åŠ æ·±é¢œè‰² (æ·±ç°) */
    cursor: col-resize; 
    flex-shrink: 0;
    position: relative;
    z-index: 100; /* æé«˜å±‚çº§ï¼Œé˜²æ­¢è¢«é®æŒ¡ */
    border-left: 1px solid #d1d5db;  /* å·¦è¾¹æ¡† */
    border-right: 1px solid #d1d5db; /* å³è¾¹æ¡† */
    transition: all 0.2s;
    
    /* å‚ç›´å±…ä¸­çš„å°å›¾æ ‡è£…é¥° (å¯é€‰ï¼Œåƒä¸ªæŠŠæ‰‹) */
    display: flex;
    align-items: center;
    justify-content: center;
    -webkit-user-select: none;
    user-select: none;
    touch-action: none; /* é˜²æ­¢è§¦æ‘¸å±æ»šåŠ¨å¹²æ‰° */
}

/* è£…é¥°ï¼šåœ¨ä¸­é—´åŠ ä¸€ä¸ªå°ç«–æ¡ï¼Œåƒæ‰‹æŸ„ä¸€æ · */
.gallery-resizer::after {
    content: "";
    width: 2px;
    height: 20px;
    background: #9ca3af;
    border-radius: 2px;
}

/* æ‚¬åœæˆ–æ‹–æ‹½æ—¶ï¼šå˜ç´«è‰²é«˜äº® */
.gallery-resizer:hover, .gallery-resizer.resizing {
    background: var(--primary-color);
    border-color: var(--primary-color);
    box-shadow: 0 0 10px rgba(111, 66, 193, 0.3); /* å‘å…‰æ•ˆæœ */
}
.gallery-resizer:hover::after, .gallery-resizer.resizing::after {
    background: #fff; /* æ‰‹æŸ„å˜ç™½ */
}

/* é˜²æ­¢æ‹–æ‹½æ—¶é€‰ä¸­æ–‡å­— (ä¿æŒ Step 64 çš„ä¿®å¤é¡ºåº) */
body.resizing-cursor {
    cursor: col-resize;
    -webkit-user-select: none;
    user-select: none;
}

/* ... åŸæœ‰ä»£ç  ... */

/* Step 75: æ–°å¢é¢„è®¾æŒ‰é’® (+) æ ·å¼ */
.btn-add-preset {
    width: 40px; /* æ­£æ–¹å½¢æˆ–åœ†å½¢ */
    padding: 0;
    border: 2px dashed var(--primary-color); /* è™šçº¿è¾¹æ¡† */
    background: #fdfaff;
    color: var(--primary-color);
    font-size: 20px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.btn-add-preset:hover {
    background: var(--primary-color);
    color: #fff;
    border-style: solid; /* æ‚¬åœå˜å®çº¿ */
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(111, 66, 193, 0.3);
}

/* --- Step 77: ä»»åŠ¡æ æ™ºèƒ½æ»šåŠ¨æ ·å¼ --- */

/* 1. æ»šåŠ¨å®¹å™¨ï¼šç›¸å¯¹å®šä½ï¼Œå æ®å‰©ä½™ç©ºé—´ */
.task-bar-scroll-wrapper {
    flex: 1;
    min-width: 0;
    position: relative;
    display: flex;
    align-items: center;
    height: 60px; /* ä¸æŒ‰é’®ç­‰é«˜ */
}


.task-bar::-webkit-scrollbar { display: none; }

/* 3. æ»šåŠ¨æŒ‰é’® (å·¦å³æ‚¬æµ®) */
.task-scroll-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: #fff;
    border: 1px solid #ddd;
    color: #666;
    font-size: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transition: all 0.2s;
}

.task-scroll-btn:hover {
    background: var(--primary-color);
    color: #fff;
    border-color: var(--primary-color);
    transform: translateY(-50%) scale(1.1);
}

.task-scroll-btn.left { left: -14px; }
.task-scroll-btn.right { right: -14px; }

/* 4. éšè—çŠ¶æ€ */
.task-scroll-btn.hidden {
    opacity: 0;
    pointer-events: none;
}

/* --- Step 78: ä¿®å¤ç‰ˆ - ä»»åŠ¡æ æ™ºèƒ½æ»šåŠ¨æ ·å¼ --- */

/* 1. æ»šåŠ¨å®¹å™¨ (å˜èº«ä¸ºâ€œè§†è§‰å®¹å™¨â€) */
/* æˆ‘ä»¬æŠŠåŸæœ¬å±äº task-bar çš„ç™½è‰²èƒŒæ™¯å’Œè¾¹æ¡†ç§»åˆ°è¿™ä¸ª Wrapper ä¸Š */
.task-bar-scroll-wrapper {
    flex: 1;
    min-width: 0;
    position: relative;
    display: flex;
    align-items: center;
    height: 60px; /* ä¸æŒ‰é’®ç­‰é«˜ */
    
    background: #fff;
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 0 10px; /* ç•™å‡ºä¸€ç‚¹å†…è¾¹è· */
    box-shadow: 0 2px 6px rgba(0,0,0,0.02);
}

/* 2. ä»»åŠ¡æ æœ¬ä½“ (ä»…å½“å®ƒä½äºæ»šåŠ¨å®¹å™¨å†…éƒ¨æ—¶) */
/* ä½¿ç”¨åä»£é€‰æ‹©å™¨ï¼Œç¡®ä¿ä¸å½±å“"æ–°å»ºä»»åŠ¡"é¡µé¢çš„è€å¼ task-bar */
.task-bar-scroll-wrapper .task-bar {
    width: 100%;
    height: 100%;
    overflow-x: auto;
    scroll-behavior: smooth;
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0 4px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
    
    /* é‡ç½®æ ·å¼ï¼šå› ä¸ºå¤–å±‚Wrapperå·²ç»æœ‰èƒŒæ™¯å’Œè¾¹æ¡†äº† */
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0;
}

/* 3. ç»Ÿä¸€çš„æ»šåŠ¨æ¡éšè—å¤„ç† (å…¼å®¹æ€§ä¿®å¤) */
/* é’ˆå¯¹æ‰€æœ‰ task-bar éšè—æ»šåŠ¨æ¡ */
/* --- Step 79: ç»ˆææ»šåŠ¨æ¡å…¼å®¹æ–¹æ¡ˆ --- */

/* 1. é’ˆå¯¹ WebKit å†…æ ¸ (Chrome < 121, Safari, Edge æ—§ç‰ˆ) */
.task-bar::-webkit-scrollbar { 
    display: none; 
}

/* 2. é’ˆå¯¹æ”¯æŒæ ‡å‡†å±æ€§çš„æµè§ˆå™¨ (Firefox, Chrome 121+) */
/* ä½¿ç”¨ @supports åŒ…è£¹ï¼Œå‘Šè¯‰ç¼–è¾‘å™¨ï¼š"åªæœ‰æµè§ˆå™¨æ”¯æŒè¿™ä¸ªå±æ€§æ—¶æ‰ç”¨å®ƒï¼Œåˆ«æŠ¥é”™äº†" */
@supports (scrollbar-width: none) {
    .task-bar {
        scrollbar-width: none;
    }
}

/* 3. é’ˆå¯¹ IE/Edge Legacy */
.task-bar {
    -ms-overflow-style: none; 
}

/* 4. æ»šåŠ¨æŒ‰é’® (å·¦å³æ‚¬æµ®) */
.task-scroll-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: #fff;
    border: 1px solid #ddd;
    color: #666;
    font-size: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transition: all 0.2s;
}

.task-scroll-btn:hover {
    background: var(--primary-color);
    color: #fff;
    border-color: var(--primary-color);
    transform: translateY(-50%) scale(1.1);
}

/* æŒ‰é’®å®šä½å¾®è°ƒ */
.task-scroll-btn.left { left: -14px; }
.task-scroll-btn.right { right: -14px; }

/* éšè—çŠ¶æ€ */
.task-scroll-btn.hidden {
    opacity: 0;
    pointer-events: none;
}

/* --- æ–°å¢ï¼šAPI é¡µé¢çš„é¡¶éƒ¨æŒ‰é’®åŒº (ä½äºå¡ç‰‡å¤–éƒ¨) --- */
.api-actions-header {
    display: flex;
    gap: 16px;
    margin-bottom: 20px; /* ä¸ä¸‹æ–¹å¡ç‰‡ä¿æŒè·ç¦» */
}

/* æŒ‰é’®å°ºå¯¸å¾®è°ƒ (å¯é€‰ï¼Œè®©å®ƒä»¬çœ‹èµ·æ¥æ›´æ˜¾çœ¼) */
.api-actions-header .btn {
    min-width: 120px;
    height: 40px;
}

/* --- ä¿®æ”¹ï¼šAPI Key å¡ç‰‡å†…éƒ¨ --- */

/* è·¯å¾„è·å–è¡Œ */
.api-source-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px; /* ä¸ä¸‹æ–¹çš„è¾“å…¥æ¡†ä¿æŒè·ç¦» */
    padding-bottom: 16px;
    border-bottom: 1px solid #f0f0f0; /* åŠ ä¸€æ¡åˆ†å‰²çº¿æ›´æ¸…æ™° */
}

.source-label {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-sub);
}

.source-btns {
    display: flex;
    gap: 10px;
}

.source-btns a {
    text-decoration: none;
    display: inline-flex;
    align-items: center;
}

/* API Key è¾“å…¥è¡Œä¼˜åŒ– */
.api-key-row {
    display: flex; 
    align-items: center;
    gap: 12px; 
    margin-bottom: 0;    /* [ä¼˜åŒ–] ç§»é™¤åº•éƒ¨é—´è· (åŸ30px)ï¼Œå› ä¸ºå®ƒæ˜¯å¡ç‰‡é‡Œæœ€åä¸€ä¸ªå…ƒç´  */
    width: 100%;
}


/* é¢„å¤„ç†ä»»åŠ¡ (Pending Task) - è§†è§‰å¢å¼ºç‰ˆ */
.task-card.pending_start {
    /* [ä¿®æ”¹] èƒŒæ™¯è‰²æ”¹ä¸ºæ›´æ¸…æ·¡çš„è“è‰²ï¼Œä¸æ­£å¼ä»»åŠ¡åŒºåˆ†æ›´æ˜æ˜¾ */
    background: #f0f9ff; 
    
    /* [ä¿®æ”¹] è¾¹æ¡†åŠ ç²—åˆ° 2pxï¼Œé¢œè‰²åŠ æ·± */
    border: 3px dashed #7dd3fc; 
    
    /* ä¿æŒåŠé€æ˜ï¼Œä½“ç°"æœªæ¿€æ´»"æ„Ÿ */
    opacity: 0.95;
    
    /* ç§»é™¤é˜´å½±ï¼Œä½¿å…¶çœ‹èµ·æ¥åƒ"è´´"åœ¨çº¸ä¸Šï¼Œè€Œä¸æ˜¯æµ®èµ·æ¥çš„å¡ç‰‡ */
    box-shadow: none;
}

/* ä¾§è¾¹æ¡é¢œè‰² */
.task-card.pending_start::before {
    background: #38bdf8; 
}

/* çŠ¶æ€æ ‡ç­¾æ ·å¼ */
.task-card.pending_start .status-badge {
    background: #e0f2fe;
    color: #0284c7;
    font-weight: 800; /* å­—ä½“åŠ ç²— */
}

/* --- ä¼˜åŒ–åçš„è™šçº¿åˆ†å‰²çº¿ --- */
.queue-separator {
    margin: 24px 0 16px 0; /* [ä¼˜åŒ–] å¢åŠ ä¸Šä¸‹é—´è·ï¼Œè§†è§‰æ›´èˆ’é€‚ */
    height: 0;
    border: none;
    border-top: 2px dashed #e2e8f0; /* çº¯å‡€çš„è™šçº¿ï¼Œæ— æ–‡å­— */
    width: 100%;
    opacity: 0.8;
}

/* ç¡®ä¿ä¹‹å‰çš„æ–‡å­—æ ·å¼è¢«è¦†ç›–/éšè— */
.queue-separator::before { display: none; }
.queue-separator span { display: none; }


/* --- å€™è¡¥å¡ç‰‡æ ·å¼å¾®è°ƒ --- */
.task-card.pending_start {
    background: #f0f9ff;
    border: 2px dashed #7dd3fc;
    opacity: 0.95;
    box-shadow: none;
}

.task-card.pending_start::before { background: #38bdf8; }

.task-card.pending_start .status-badge {
    background: #e0f2fe;
    color: #0284c7;
    font-weight: 800;
}

/* web/styles/pages.css */

/* --- å€™è¡¥ä»»åŠ¡æ’é˜Ÿä¿¡æ¯æ ·å¼ --- */
.queue-info {
    font-size: 13px;
    color: #6b7280; /* ç°è‰²æ–‡æœ¬ */
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 4px;
}

.queue-highlight {
    color: var(--primary-color); /* ç´«è‰²é«˜äº® */
    font-weight: 800;
    font-size: 16px; /* æ•°å­—ç¨å¾®å¤§ä¸€ç‚¹ */
    font-family: monospace; /* ç­‰å®½å­—ä½“ï¼Œæ•°å­—æ›´å¥½çœ‹ */
}